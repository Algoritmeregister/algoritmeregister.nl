<div id="search-results"></div>
<script src="/js/microtemplating.js"></script>
<script type="module">
    // GET SEARCH RESULTS FROM http://localhost:8000/den-haag.php
    var rs = await fetch ('http://localhost:8000/den-haag.php').then(rs => rs.json()).then(rs => rs["Algoritmeregister GDH"]);
    document.getElementById("search-results").innerHTML = rs.map(item => tmpl("search_result_tmpl", {
        "name": item["Naam algoritme"],
        "organization": item["Organisatie"],
        "description_short": item["Korte omschrijving"],
        "type": item["Soort algoritme"],
        "domain": item["Dienstonderdeel"],
        "status": item["Status"]
    })).join("");
</script>
<script type="text/html" id="search_result_tmpl">
    <div class="m-y4">
        <h2 class="text-h2 m-b2 color-2"><%=name%></h2>
        <p class="text-body m-b4"><%=description_short%></p>
        <div class="u-flex">
            <div class="m-r5">
                <h4 class="text-h4">Organisatie</h4>
                <p class="text-body"><%=organization%></p>
            </div>
            <div class="m-r5">
                <h4 class="text-h4">Thema</h4>
                <p class="text-body"><%=domain%></p>
            </div>
            <div class="m-r5">
                <h4 class="text-h4">Type</h4>
                <p class="text-body"><%=type%></p>
            </div>
            <div class="m-r5">
                <h4 class="text-h4">Status</h4>
                <p class="text-body"><%=status%></p>
            </div>
        </div>
    </div>
    <hr class="hr">
</script>